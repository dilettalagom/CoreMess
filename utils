//Elimina tutti i messaggi all'interno della stored_messages SE non vuota->

static void __del_all_messages(int minor){
    struct list_head *ptr, *q;
    message_t* message;

    if(!list_empty(&(instance_by_minor[minor].stored_messages))) {
        DEBUG
            printk("%s: instance_by_minor[minor].stored_messages not empty: deleting...\n", MODNAME);
        list_for_each_safe(ptr, q, &(instance_by_minor[minor].stored_messages)) {
            message = list_entry(ptr, message_t, next);
            list_del(&message->next);
            kfree(message->text);
            kfree(message);
        }
    }
    DEBUG
        printk("%s: instance_by_minor[minor].stored_messages is empty: deleting struct...\n", MODNAME);
    list_del(&(instance_by_minor[minor].stored_messages));
    DEBUG
        printk("%s: all messages in instance_by_minor[minor].stored_messages have been deleted\n", MODNAME);

}

//Stampa tutta la lista list_head

    if(!list_empty(&(instance_by_minor[minor].stored_messages))) {

        printk("%s: instance_by_minor[minor].stored_messages not empty: printing...\n", MODNAME);
        list_for_each_safe(head, pos, &(instance_by_minor[minor].stored_messages)){
            message_t *elt;
            elt = list_first_entry(pos, message_t, next);
            printk("%s write(), messaggio aggiunto: %s\n",MODNAME, elt->text);
        }
    }